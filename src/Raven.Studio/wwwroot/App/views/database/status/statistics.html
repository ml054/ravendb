<section data-bind="if: stats" class="stats">

    <h1>General Stats</h1>
    <div class="stats-list margin-bottom">
        <div class="row flex-row" data-bind="with: stats">
            <div class="col-sm-12 col-xl-6">
                <div class="stats-item">
                    <div class="name"><i class="icon-database"></i> <span>Database Id</span></div>
                    <div class="value long"><span data-bind="text: dataBaseId"></span></div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="stats-item">
                    <div class="name"><i class="icon-documents"></i> <span>Documents Count</span></div>
                    <div class="value"><span data-bind="text: countOfDocuments"></span></div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="stats-item">
                    <div class="name"><i class="icon-indexing"></i><span>Indexes Count</span></div>
                    <div class="value"><span data-bind="text: countOfIndexes"></span></div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="stats-item">
                    <div class="name"><i class="icon-transformer"></i> <span>Transformers Count</span></div>
                    <div class="value"><span data-bind="text: countOfTransformers"></span></div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="stats-item">
                    <div class="name"><i class="icon-etag"></i> <span>Last Document Etag</span></div>
                    <div class="value"><span data-bind="text: lastDocEtag"></span></div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="stats-item">
                    <div class="name">Server bitness</div>
                    <div class="value"><span data-bind="visible: is64Bit">64 Bit</span><span data-bind="visible : !is64Bit">32 Bit</span></div>
                </div>
            </div>
        </div>
    </div>

    <h1>Indexes Stats by type</h1>

    <h3 class="text-center" data-bind="visible: stats().indexesByType().length === 0">No indexes have been created for this database.</h3>

    <div data-bind="foreach: stats().indexesByType">
        <hr />
        <h2 data-bind="text: indexType"></h2>
        <div class="row row-sm flex-row" data-bind="foreach: indexes">

            <div class="col-sm-6 col-lg-4 col-xl-3 flex-vertical">
                <div class="stats-list margin-bottom flex-content">
                    <div class="flex-horizontal title">
                        <h3 class="flex-content text-elipsis">
                            <a href="#" data-bind="attr: { href: $root.urlForIndexPerformance(indexName), title: indexName } ">
                                <span class="text" data-bind="text: indexName"></span>
                            </a>                           
                        </h3>
                        <span class="badge badge-warning pull-right flex-noshrink" data-bind="visible: isStale">Stale</span>
                    </div>


                    <div class="stats-item">
                        <div class="name">Index Id:</div>
                        <div class="value" data-bind="text: indexId"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: !isFaultyIndex, if: !isFaultyIndex">
                        <div class="name">Entries Count:</div>
                        <div class="value" data-bind="text: entriesCount"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: errorsCount > 0,if: errorsCount > 0">
                        <div class="name">Errors Count:</div>
                        <div class="value" data-bind="text: errorsCount"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: !isFaultyIndex, if: !isFaultyIndex">
                        <div class="name">Map Attempts:</div>
                        <div class="value" data-bind="text: mapAttempts"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: !isFaultyIndex, if: !isFaultyIndex">
                        <div class="name">Map Successes:</div>
                        <div class="value" data-bind="text: mapSuccesses"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: mapErrors > 0, if: mapErrors > 0">
                        <div class="name">Map Errors:</div>
                        <div class="value" data-bind="text: mapErrors"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: mappedPerSecondRate > 1, if: mappedPerSecondRate > 1">
                        <div class="name">Mapped Per Second Rate:</div>
                        <div class="value" data-bind="text: mappedPerSecondRateStr"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: isReduceIndex, if: isReduceIndex">
                        <div class="name">Reduce Attempts:</div>
                        <div class="value" data-bind="text: reduceAttempts"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: isReduceIndex, if: isReduceIndex">
                        <div class="name">Reduce Successes:</div>
                        <div class="value" data-bind="text: reduceSuccesses"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: isReduceIndex && reduceErrors > 0, if: isReduceIndex && reduceErrors > 0">
                        <div class="name">Reduce Errors:</div>
                        <div class="value" data-bind="text: reduceErrors"></div>
                    </div>
                    <div class="stats-item" data-bind="visible: isReduceIndex && (reducedPerSecondRate > 1), if: isReduceIndex && (reducedPerSecondRate > 1)">
                        <div class="name">Reduced Per Second Rate:</div>
                        <div class="value" data-bind="text: reducedPerSecondRateStr"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--



    <div data-bind="foreach: stats().indexesByType">

        <h3 data-bind="text: indexType"></h3>

        <div class="row">
            <div data-bind="foreach: indexes">
                <div class="col-sm-4">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>
                                                <a href="#" data-bind="attr: { href: $root.urlForIndexPerformance(indexName) } ">
                                                    <span class="text" data-bind="text: indexName"></span>
                                                </a>
                                            </th>
                                            <th>
                                                <span class="badge badge-warning" data-bind="visible: isStale">Stale</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Index Id:</td>
                                            <td data-bind="text: indexId"></td>
                                        </tr>
                                        <tr data-bind="if: !isFaultyIndex">
                                            <td>Entries Count:</td>
                                            <td data-bind="text: entriesCount"></td>
                                        </tr>
                                        <tr data-bind="if: errorsCount > 0">
                                            <td>Errors Count:</td>
                                            <td data-bind="text: errorsCount"></td>
                                        </tr>
                                        <tr data-bind="if: !isFaultyIndex">
                                            <td>Map Attempts:</td>
                                            <td data-bind="text: mapAttempts"></td>
                                        </tr>
                                        <tr data-bind="if: !isFaultyIndex">
                                            <td>Map Successes:</td>
                                            <td data-bind="text: mapSuccesses"></td>
                                        </tr>
                                        <tr data-bind="if: mapErrors > 0">
                                            <td>Map Errors:</td>
                                            <td data-bind="text: mapErrors"></td>
                                        </tr>
                                        <tr data-bind="if: mappedPerSecondRate > 1">
                                            <td>Mapped Per Second Rate:</td>
                                            <td data-bind="text: mappedPerSecondRateStr"></td>
                                        </tr>
                                        <tr data-bind="if: isReduceIndex">
                                            <td>Reduce Attempts:</td>
                                            <td data-bind="text: reduceAttempts"></td>
                                        </tr>
                                        <tr data-bind="if: isReduceIndex">
                                            <td>Reduce Successes:</td>
                                            <td data-bind="text: reduceSuccesses"></td>
                                        </tr>
                                        <tr data-bind="if: isReduceIndex && reduceErrors > 0">
                                            <td>Reduce Errors:</td>
                                            <td data-bind="text: reduceErrors"></td>
                                        </tr>
                                        <tr data-bind="if: isReduceIndex && (reducedPerSecondRate > 1)">
                                            <td>Reduced Per Second Rate:</td>
                                            <td data-bind="text: reducedPerSecondRateStr"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        -->
</section>
