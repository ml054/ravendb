
<div data-bind="compose: 'common/sectionUnderDevelopment.html'"></div>

<div id="sqlReplications" class="innerWindowsStyle content-margin">
    <div class="panel panel-default" id="sqlReplicationsForm">
        <div class="panel-heading">
            <a class="btn btn-default" data-bind="attr: {href:getSqlReplicationUrl('')}" title="New SQL Replication (Alt+N)" accesskey="N">
                <i class="icon-plus"></i> New SQL replication
            </a>
            <a class="btn btn-default" data-bind="attr: {href:getSqlReplicationConnectionStringsUrl()}" accesskey="M" title="Manage SQL connection strings (Alt+M)">
                 Manage connection strings
            </a>
            <div class="btn-group">
                <button type="button" class="btn btn-default" title="Disable All SQL Replications" data-bind="disable: areAllSqlReplicationsDisabled, click: $root.toggleDisable.bind($root, true), visible: replications().length > 0">
                    <i class="fa fa-lock"></i>
                </button>
                <button type="button" class="btn btn-default" title="Enable All SQL Replications" data-bind="disable: areAllSqlReplicationsEnabled, click: $root.toggleDisable.bind($root, false), visible: replications().length > 0">
                    <i class="fa fa-unlock"></i>
                </button>
            </div>
            <div class="btn-group">
                <input type="text" accesskey="/" class="form-control" placeholder="Search" data-bind="value: searchText, valueUpdate: 'afterkeydown', visible: replications().length > 0" title="Search for a database or file system (Alt+/)">
            </div>
            <div class="btn-group">
                <span data-bind="text: summary"></span>
            </div>
        </div>
        <div class="panel-body">
            <div data-bind="visible: replications().length === 0">
                <br />
                <p>
                    <i class="fa fa-warning text-warning"></i> You've got no SQL replications set up.
                </p>
            </div>
            <div class="replications-container" data-bind="foreach: replications">
                <div class="replication" data-bind="visible: isVisible">
                    <h4 data-bind="attr: { 'href': '', titel:'$root.appUrl.forEditSqlReplication(name, this.activeDatabase()) '}">
                        <a data-bind="text: name, attr: { href: $root.getSqlReplicationUrl(name()) }"></a>
                    </h4>
                    <label>
                        <i class="fa fa-power-off" data-bind="attr: { title:disabled() === false?'SQL Replication is Enabled':'SQL Replication is Disabled'},css:{enabledReplication:disabled() === false,disabledReplication:disabled() === true }"></i>
                    </label>
                    <div class="sqlRepActions pull-right">
                        <div class="btn-group">
                            <a class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-cogs fa-lg"></i>
                            </a>
                            <ul class="dropdown-menu index-dropdown" role="menu">
                                <li role="presentation">
                                    <a href="#" title="Delete the replication" data-bind="click: $root.removeSqlReplication.bind($root,$data)">
                                        <i class="fa fa-trash-o text-danger"></i> Delete
                                    </a>
                                </li>
                                <li role="presentation">
                                    <a href="#" title="Show replication stats dialog" data-bind="click: $root.showStats.bind($root,Name)">
                                        Show stats
                                    </a>
                                </li>
                                <li role="presentation">
                                    <a href="#" title="Reset current replication" data-bind="click: function(){ $root.resetSqlReplication(Name)}">
                                        Reset
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</div>
