<div class="modal-dialog prevent-close" role="document" id="licenseModal" >
    
    <form class="form-horizontal" autocomplete="off" data-bind="submit: submit">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" data-bind="visible: dismissVisible" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h1 class="modal-title" id="myModalLabel">License request</h1>
            </div>
            <img src="Content/img/prerelease-license.png" class="img-responsive" />
            <div class="modal-body">
                <div class="form-container row" data-bind="css: { 'enterKey': licenseKeySectionActive() }">
                    <section id="licenseRequestForm" class="col-xs-6">
                        <p class="lead text-center">
                            To obtain your <span class="font-normal text-primary">free prerelease license</span> <span class="nobr">please fill out the form below.</span>
                        </p>
                            <div class="form-group" data-bind="validationElement: registrationModel().firstName">
                                <label for="inputFirstName" class="col-sm-3 control-label">First Name</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" id="inputFirstName" data-bind="textInput: registrationModel().firstName">
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: registrationModel().lastName">
                                <label for="inputLastName" class="col-sm-3 control-label">Last Name</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" id="inputLastName" data-bind="textInput: registrationModel().lastName">
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: registrationModel().email">
                                <label for="inputEmail" class="col-sm-3 control-label">Email</label>
                                <div class="col-sm-8">
                                    <input type="email" class="form-control" id="inputEmail" data-bind="textInput: registrationModel().email">
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: registrationModel().company">
                                <label for="inputCompany" class="col-sm-3 control-label">Company</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" id="inputCompany" data-bind="textInput: registrationModel().company">
                                </div>
                            </div>
                    </section>

                    <section id="enterLicenseKey" class="col-xs-6">
                        
                        <p class="lead text-center" data-bind="visible: justRegistered">
                            Please check your e-mail and paste license file. 
                        </p>

                        <p class="lead text-center" data-bind="visible: !justRegistered()">
                            Already got a license? <br /> Please paste your license key below.
                        </p>
                        <div class="form-horizontal">
                            <div class="form-group" data-bind="validationElement: licenseKeyModel().key">
                                <label for="inputLicenseKey" class="col-sm-3 control-label">License key</label>
                                <div class="col-sm-8">
                                    <textarea rows="5" class="form-control" id="inputLicenseKey" data-bind="textInput: licenseKeyModel().key"
                                              placeholder='e.g. { "LicenseId": "12345ABCD" ... }'></textarea>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div class="modal-footer">
                
                <div class="btn-group" data-bind="visible: dismissVisible">
                    <button class="btn btn-default" data-bind="click: $root.dismiss.bind($root, 1)">
                        <i class="icon-recent"></i>
                        <span>Dismiss for 1 day</span>
                    </button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" data-bind="foreach: [2, 7]">
                        <li>
                            <a href="#" data-bind="click: $root.dismiss">
                                <i class="icon-recent"></i> <span data-bind="text: 'Dismiss for ' + $data + ' days'"></span> 
                            </a>
                        </li>
                    </ul>
                </div>

                <button type="button" class="btn btn-default" data-bind="click: goToEnterLicense, visible: !licenseKeySectionActive()">
                    Enter license key
                </button>
                <button type="button" class="btn btn-default" data-bind="click: goToRegistration, visible: licenseKeySectionActive() && !justRegistered()">
                    Back to registration
                </button>
                <button type="submit" data-bind="css: { 'btn-spinner': isBusy }, enable: !isBusy()" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </form>
</div>
